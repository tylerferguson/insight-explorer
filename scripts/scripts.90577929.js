!function(){"use strict";angular.module("insightExplorer",["ngAnimate","ngResource","ngRoute"])}(),function(){"use strict";angular.module("insightExplorer").config(["$routeProvider",function(a){a.when("/",{templateUrl:"charts/chart.html",controller:"MainCtrl"}).when("/import",{templateUrl:"charts/chart.html",controller:"MainCtrl"}).otherwise({redirectTo:"/"})}])}(),function(){"use strict";angular.module("insightExplorer").controller("MainCtrl",["$scope",function(a){a.$on("chartSelected",function(a,b){$("#chart").empty();var c=new insight[b.chartType](b.data,"#chart",b.dimensions.key.name,b.dimensions.value.name,b.dimensions.value.groupingProperty).build();c.draw()})}])}(),function(){angular.module("insightExplorer").controller("SideCtrl",["$scope","$http","$q",function(a,b,c){var d=this,e=[],f=[];a.dataFields=[],a.charts=[],a.selected=[],d.dimensions={key:{},value:{},radius:{}},d.numDimensions=0,c.all([b.get("sidebar/charts.json"),b.get("sidebar/groupingProperties.json"),b.get("sidebar/dimensions.json")]).then(function(b){a.charts=b[0].data,a.subProps=b[1].data,a.dimensions=b[2].data});var g=function(b){f[$.inArray(d.dimensions[b].name,a.dataFields)][d.dimensions[b].groupingProperty]?f[$.inArray(d.dimensions[b].name,a.dataFields)][d.dimensions[b].groupingProperty][b]="":f[$.inArray(d.dimensions[b].name,a.dataFields)][b]=""};a.selectDimension=function(a,b,c,e){e?f[a][e][b]?(f[a][e][b]="",d.dimensions[b]={},d.numDimensions--):$.isEmptyObject(d.dimensions[b])?(f[a][e][b]=b,d.dimensions[b].name=c,d.dimensions[b].groupingProperty=e,d.numDimensions++):(g(b),f[a][e][b]=b,d.dimensions[b].name=c,d.dimensions[b].groupingProperty=e):f[a][b]?(f[a][b]="",d.dimensions[b]={},d.numDimensions--):$.isEmptyObject(d.dimensions[b])?(f[a][b]=b,d.dimensions[b].name=c,d.numDimensions++):(g(b),f[a][b]=b,d.dimensions[b].name=c)},a.selectProperty=function(a,b){f[a]||(f[a]={}),b?f[a][b]=$.isEmptyObject(f[a][b])?{name:b}:{}:f[a].index=f[a].index>=0?-1:a},a.listOptions=function(a,b){b.stopPropagation(),e[a]=e[a]>=0?-1:a},a.optionsListed=function(a){return e[a]===a},a.isSelectedProperty=function(a,b){if(!$.isEmptyObject(f[a])){if(!b)return f[a].index===a;if(!$.isEmptyObject(f[a][b]))return f[a][b].name===b}},a.isSelectedDimension=function(a,b,c){if(f[a]){if(!c)return f[a][b]===b?b:!1;if(!$.isEmptyObject(f[a][c]))return f[a][c][b]===b?b:!1}},a.enableByChosenProperties=function(a){var b="SimpleBubbleChart"===a.type?d.numDimensions>=3:d.numDimensions>=2;if(b){var c=!Number(d.data[0][d.dimensions.key.name]);return c?"SimpleLineChart"===a.type||"SimpleScatterChart"===a.type:!1}return!0},a.selectChart=function(b){a.$root.$broadcast("chartSelected",{chartType:b,data:d.data,dimensions:d.dimensions})},a.$on("dataReceived",function(b,c){d.data=c.data,a.dataFields=Object.keys(d.data[0])})}])}(),function(){"use strict";angular.module("insightExplorer").controller("NavCtrl",["$scope","$http","$location",function(a,b,c){var d={success:function(b){a.submitUrl(b[0].link)},linkType:"direct",extensions:[".json"]},e=Dropbox.createChooseButton(d);document.getElementById("dropbox-button").appendChild(e),a.submitUrl=function(c){c=c?c:a.url,b.get(c).success(function(b){a.$root.$broadcast("dataReceived",{data:b})})},a.isActive=function(a){return a===c.path()}}])}();