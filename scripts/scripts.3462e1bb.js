!function(){"use strict";angular.module("insightExplorer",["ngAnimate","ngResource","ngRoute"])}(),function(){"use strict";angular.module("insightExplorer").config(["$routeProvider",function(a){a.when("/",{templateUrl:"charts/chart.html",controller:"MainCtrl"}).when("/import",{templateUrl:"charts/chart.html",controller:"MainCtrl"}).otherwise({redirectTo:"/"})}])}(),function(){"use strict";angular.module("insightExplorer").controller("MainCtrl",["$scope",function(a){a.$on("chartSelected",function(a,b){$("#chart").empty();var c=new insight[b.chartType](b.data,"#chart",b.dataProperties[0],b.dataProperties[1]).build();c.draw()})}])}(),function(){"use strict";angular.module("insightExplorer").controller("SideCtrl",["$scope","$http",function(a,b){var c=this;a.dataFields=[],a.dataProperties=[],a.charts=[],a.selected=[],c.prop=0,b.get("sidebar/charts.json").success(function(b){a.charts=b});var d=function(b){a.dataProperties.push(b)},e=function(b){a.dataProperties.splice(a.selected[b].prop)},f=function(b){a.selected[b]={item:b,prop:c.prop},c.prop++},g=function(b){a.selected.forEach(function(d){d.prop>a.selected[b].prop&&(a.selected[d.item]={},c.prop--)}),a.selected[b]={},c.prop--};a.select=function(b,c){$.isEmptyObject(a.selected[b])?(f(b),d(c)):(e(b),g(b))},a.isSelected=function(b,c){var d=a.selected[b];return d?d.item===b&&d.prop===c:void 0},a.enableByChosenProperties=function(b){var d="SimpleBubbleChart"===b.type?a.dataProperties.length>=3:a.dataProperties.length>=2;if(d){var e=!Number(c.data[0][a.dataProperties[0]]);return e?"SimpleLineChart"===b.type||"SimpleScatterChart"===b.type:!1}return!0},a.selectChart=function(b){a.$root.$broadcast("chartSelected",{chartType:b,data:c.data,dataProperties:a.dataProperties})},a.$on("dataReceived",function(b,d){c.data=d.data,a.dataFields=Object.keys(c.data[0])})}])}(),function(){"use strict";angular.module("insightExplorer").controller("NavCtrl",["$scope","$http","$location",function(a,b,c){var d={success:function(b){a.submitUrl(b[0].link)},linkType:"direct",extensions:[".json"]},e=Dropbox.createChooseButton(d);document.getElementById("dropbox-button").appendChild(e),a.submitUrl=function(c){c=c?c:a.url,b.get(c).success(function(b){a.$root.$broadcast("dataReceived",{data:b})})},a.isActive=function(a){return a===c.path()}}])}();